import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';
import { ColorPickerControl } from './../../helpers/control.class';
import { getValueByType } from './../../helpers/helper.functions';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '../parts/color-presets/color-presets.component';
import * as ɵngcc2 from '@angular/common';

function SwatchesPickerComponent_color_presets_component_1_Template(rf, ctx) { if (rf & 1) {
    const _r2 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "color-presets-component", 2);
    ɵngcc0.ɵɵlistener("colorChange", function SwatchesPickerComponent_color_presets_component_1_Template_color_presets_component_colorChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); const ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.childControl.value = $event; });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("columns", 7)("color", ctx_r0.childControl.value)("colorPresets", ctx_r0.childControl.presets);
} }
export class SwatchesPickerComponent {
    constructor(cdr) {
        this.cdr = cdr;
        this.colorChange = new EventEmitter(false);
        this.control = new ColorPickerControl();
        this.childControl = new ColorPickerControl();
        this.subscriptions = [];
        this.mapColors = {
            '#E6315B': [
                '#fc8da7', '#fa7d9a', '#f56484', '#f04a71', '#e82c58', '#e31746', '#de0235',
                '#d60234', '#d10232', '#c70230', '#b8022c', '#ab0229', '#9c0225', '#8f0122',
                '#8c0122', '#82011f', '#78011b', '#690117', '#5c0012', '#4f0010', '#42000c'
            ],
            '#793183': [
                '#ef8dfc', '#eb7dfa', '#e664f5', '#dc4af0', '#d22ce8', '#cb17e3', '#c402de',
                '#c002d9', '#bb02d4', '#b002c7', '#a202b8', '#9702ab', '#8a029c', '#7e018f',
                '#7a018a', '#730182', '#6c0178', '#5e0169', '#54015c', '#49014f', '#3d0142'
            ],
            '#009DE7': [
                '#8dd9fc', '#7dd2fa', '#64c7f5', '#4abbf0', '#2cade8', '#17a2e3', '#0298de',
                '#0295d9', '#0291d4', '#0289c7', '#027eb8', '#0275ab', '#026b9c', '#01628f',
                '#015f8a', '#015982', '#015278', '#014869', '#013f5c', '#01364f', '#012e42'
            ],
            '#00B59C': [
                '#8dfeea', '#7dfbe4', '#63f4db', '#4befd2', '#2de7c6', '#16e2be', '#03deb7',
                '#01ddb6', '#01d4ae', '#01c7a4', '#01b897', '#01aa8b', '#019b80', '#019076',
                '#018c73', '#01836c', '#017763', '#016857', '#005c4e', '#005044', '#004239'
            ],
            '#FFCE00': [
                '#fce68d', '#fae17d', '#f5da64', '#f0cf4a', '#e8c22c', '#e5bc17', '#deb202',
                '#deb100', '#d4aa02', '#c7a002', '#b89302', '#ab8902', '#9c7d02', '#8f7301',
                '#8c7001', '#826801', '#786201', '#695601', '#5c4b00', '#4f4100', '#423700'
            ],
            '#FF4A21': [
                '#fca28d', '#fa947d', '#f57f64', '#f0694a', '#e84f2c', '#e33c17', '#de2a02',
                '#d92a02', '#d42902', '#c72602', '#b82302', '#ab2102', '#9c1e02', '#8f1b01',
                '#8a1a01', '#821901', '#781701', '#691300', '#5c1100', '#4f0e00', '#420c00'
            ],
            '#D6D5D6': [
                '#fff', '#f2f2f2', '#e5e5e5', '#d9d9d9', '#cccccc', '#bfbfbf', '#b3b3b3',
                '#a6a6a6', '#999999', '#8c8c8c', '#808080', '#737373', '#666666', '#595959',
                '#4d4d4d', '#424242', '#363636', '#262626', '#1a1a1a', '#0f0f0f', '#000'
            ]
        };
    }
    ngOnInit() {
        if (this.color) {
            this.childControl.setValueFrom(this.color);
        }
        else {
            this.control.setValueFrom('#E6315B');
        }
        /**
         * set color presets
         * defined by swatches color picker component
         */
        this.control.setColorPresets([
            '#e6315b', '#793183', '#009de7', '#00b59c', '#ffce00', '#ff4a21', '#d6d5d6'
        ]);
        /**
         * initially open first group
         */
        this.childControl.setColorPresets(this.mapColors['#E6315B']);
        this.subscriptions.push(this.childControl.valueChanges.subscribe((value) => {
            this.colorChange.emit(getValueByType(value, this.childControl.initType));
        }));
        this.subscriptions.push(this.control.valueChanges.subscribe((value) => {
            this.cdr.markForCheck();
            const presets = this.mapColors[value.toHexString()];
            if (presets) {
                this.childControl.setColorPresets(presets);
            }
            this.colorChange.emit(getValueByType(this.childControl.value, this.childControl.initType));
        }));
    }
    ngOnDestroy() {
        this.cdr.detach();
        this.subscriptions.forEach((subscription) => subscription.unsubscribe());
        this.subscriptions.length = 0;
    }
    ngOnChanges(changes) {
        if (this.color && this.control && getValueByType(this.control.value, this.control.initType) !== this.color) {
            this.childControl.setValueFrom(this.color);
        }
    }
}
SwatchesPickerComponent.ɵfac = function SwatchesPickerComponent_Factory(t) { return new (t || SwatchesPickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };
SwatchesPickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: SwatchesPickerComponent, selectors: [["swatches-picker"]], inputs: { color: "color" }, outputs: { colorChange: "colorChange" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 2, vars: 4, consts: [["direction", "down", 3, "columns", "color", "colorPresets", "colorChange"], ["class", "child-list", "direction", "down", 3, "columns", "color", "colorPresets", "colorChange", 4, "ngIf"], ["direction", "down", 1, "child-list", 3, "columns", "color", "colorPresets", "colorChange"]], template: function SwatchesPickerComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "color-presets-component", 0);
        ɵngcc0.ɵɵlistener("colorChange", function SwatchesPickerComponent_Template_color_presets_component_colorChange_0_listener($event) { return ctx.control.value = $event; });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(1, SwatchesPickerComponent_color_presets_component_1_Template, 1, 3, "color-presets-component", 1);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("columns", 7)("color", ctx.control.value)("colorPresets", ctx.control.presets);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.childControl.presets.length);
    } }, directives: [ɵngcc1.ColorPresetsComponent, ɵngcc2.NgIf], styles: ["[_nghost-%COMP%], [_nghost-%COMP%]     *{padding:0;margin:0;box-sizing:border-box}", "@charset \"UTF-8\";[_nghost-%COMP%]{display:block;background:#fff;width:224px;border:1px solid rgba(0,0,0,.2);box-shadow:0 0 2px rgba(0,0,0,.3);border-radius:4px;padding:6px}[_nghost-%COMP%]     color-preset, [_nghost-%COMP%]     color-preset-sublist{width:30px;height:30px}[_nghost-%COMP%]     color-preset.selected:after, [_nghost-%COMP%]     color-preset:hover:after{display:block;content:\"\u00A0\";position:absolute;left:3px;top:3px;bottom:3px;right:3px;z-index:10;border:3px solid #fff;box-shadow:0 0 5px 2px rgba(0,0,0,.2)}[_nghost-%COMP%]     .row:first-child color-preset-sublist:first-child, [_nghost-%COMP%]     .row:first-child color-preset:first-child{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .row.last color-preset-sublist.last, [_nghost-%COMP%]     .row.last color-preset.last{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .child-list .row.first color-preset-sublist.first, [_nghost-%COMP%]     .child-list .row.first color-preset.first{border-radius:4px 0 0 0}[_nghost-%COMP%]     .child-list .row.first color-preset-sublist.last, [_nghost-%COMP%]     .child-list .row.first color-preset.last{border-radius:0 4px 0 0}[_nghost-%COMP%]     .child-list .row.last color-preset-sublist.first, [_nghost-%COMP%]     .child-list .row.last color-preset.first{border-radius:0 0 0 4px}[_nghost-%COMP%]     .child-list .row.last color-preset-sublist.last, [_nghost-%COMP%]     .child-list .row.last color-preset.last{border-radius:0 0 4px 0}[_nghost-%COMP%]     .child-list{margin-top:6px;border-top:1px solid #e5e5e5;padding:6px 0 0}[_nghost-%COMP%]     .child-list color-preset.selected:after, [_nghost-%COMP%]     .child-list color-preset:hover:after{content:\"\u2714\";font-size:18px;color:#fff;border:0;left:0;top:0;bottom:0;right:0;line-height:30px;box-shadow:none;text-align:center}"], changeDetection: 0 });
SwatchesPickerComponent.ctorParameters = () => [
    { type: ChangeDetectorRef }
];
SwatchesPickerComponent.propDecorators = {
    color: [{ type: Input }],
    colorChange: [{ type: Output }]
};
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SwatchesPickerComponent, [{
        type: Component,
        args: [{
                selector: `swatches-picker`,
                template: "<color-presets-component \r\n    [columns]=\"7\"\r\n    direction=\"down\"\r\n    [(color)]=\"control.value\" \r\n    [colorPresets]=\"control.presets\"></color-presets-component>\r\n<color-presets-component\r\n    class=\"child-list\"\r\n    *ngIf=\"childControl.presets.length\"\r\n    [columns]=\"7\"\r\n    direction=\"down\"\r\n    [(color)]=\"childControl.value\" \r\n    [colorPresets]=\"childControl.presets\"></color-presets-component>",
                changeDetection: ChangeDetectionStrategy.OnPush,
                styles: [":host,:host ::ng-deep *{padding:0;margin:0;box-sizing:border-box}", "@charset \"UTF-8\";:host{display:block;background:#fff;width:224px;border:1px solid rgba(0,0,0,.2);box-shadow:0 0 2px rgba(0,0,0,.3);border-radius:4px;padding:6px}:host ::ng-deep color-preset,:host ::ng-deep color-preset-sublist{width:30px;height:30px}:host ::ng-deep color-preset.selected:after,:host ::ng-deep color-preset:hover:after{display:block;content:\"\u00A0\";position:absolute;left:3px;top:3px;bottom:3px;right:3px;z-index:10;border:3px solid #fff;box-shadow:0 0 5px 2px rgba(0,0,0,.2)}:host ::ng-deep .row:first-child color-preset-sublist:first-child,:host ::ng-deep .row:first-child color-preset:first-child{border-radius:4px 0 0 4px}:host ::ng-deep .row.last color-preset-sublist.last,:host ::ng-deep .row.last color-preset.last{border-radius:0 4px 4px 0}:host ::ng-deep .child-list .row.first color-preset-sublist.first,:host ::ng-deep .child-list .row.first color-preset.first{border-radius:4px 0 0 0}:host ::ng-deep .child-list .row.first color-preset-sublist.last,:host ::ng-deep .child-list .row.first color-preset.last{border-radius:0 4px 0 0}:host ::ng-deep .child-list .row.last color-preset-sublist.first,:host ::ng-deep .child-list .row.last color-preset.first{border-radius:0 0 0 4px}:host ::ng-deep .child-list .row.last color-preset-sublist.last,:host ::ng-deep .child-list .row.last color-preset.last{border-radius:0 0 4px 0}:host ::ng-deep .child-list{margin-top:6px;border-top:1px solid #e5e5e5;padding:6px 0 0}:host ::ng-deep .child-list color-preset.selected:after,:host ::ng-deep .child-list color-preset:hover:after{content:\"\u2714\";font-size:18px;color:#fff;border:0;left:0;top:0;bottom:0;right:0;line-height:30px;box-shadow:none;text-align:center}"]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }]; }, { colorChange: [{
            type: Output
        }], color: [{
            type: Input
        }] }); })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dhdGNoZXMtcGlja2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaXBsYWIvbmd4LWNvbG9yLXBpY2tlci9zcmMvbGliL2NvbXBvbmVudHMvc3dhdGNoZXMtcGlja2VyL3N3YXRjaGVzLXBpY2tlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILFNBQVMsRUFFVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFFWix1QkFBdUIsRUFFdkIsaUJBQWlCLEVBRXBCLE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ25FLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7QUFZbEUsTUFBTSxPQUFPLHVCQUF1QjtBQUFHLElBa0RuQyxZQUE2QixHQUFzQjtBQUN2RCxRQURpQyxRQUFHLEdBQUgsR0FBRyxDQUFtQjtBQUFDLFFBNUM3QyxnQkFBVyxHQUE4QixJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM1RSxRQUNXLFlBQU8sR0FBdUIsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO0FBQ2xFLFFBQVcsaUJBQVksR0FBdUIsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO0FBQ3ZFLFFBQVksa0JBQWEsR0FBd0IsRUFBRSxDQUFDO0FBQ3BELFFBQ1ksY0FBUyxHQUFHO0FBQ3hCLFlBQVEsU0FBUyxFQUFFO0FBQ25CLGdCQUFZLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVM7QUFDdkYsZ0JBQVksU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztBQUN2RixnQkFBWSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTO0FBQ3ZGLGFBQVM7QUFDVCxZQUFRLFNBQVMsRUFBRTtBQUNuQixnQkFBWSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTO0FBQ3ZGLGdCQUFZLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVM7QUFDdkYsZ0JBQVksU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztBQUN2RixhQUFTO0FBQ1QsWUFBUSxTQUFTLEVBQUU7QUFDbkIsZ0JBQVksU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztBQUN2RixnQkFBWSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTO0FBQ3ZGLGdCQUFZLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVM7QUFDdkYsYUFBUztBQUNULFlBQVEsU0FBUyxFQUFFO0FBQ25CLGdCQUFZLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVM7QUFDdkYsZ0JBQVksU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUztBQUN2RixnQkFBWSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTO0FBQ3ZGLGFBQVM7QUFDVCxZQUFRLFNBQVMsRUFBRTtBQUNuQixnQkFBWSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FB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QUVBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBWUEsQUFBQSxBQUFBLEFBQUEsQUFrREEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQTVDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUdBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBRUEsQUFFQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQTlHQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFLQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQWhCQSxBQUFBLEFBbUJBLEFBQUEsQUFHQSxBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCxcclxuICAgIE9uSW5pdCxcclxuICAgIElucHV0LFxyXG4gICAgT3V0cHV0LFxyXG4gICAgRXZlbnRFbWl0dGVyLFxyXG4gICAgU2ltcGxlQ2hhbmdlcyxcclxuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gICAgT25EZXN0cm95LFxyXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBPbkNoYW5nZXNcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29sb3JTdHJpbmcgfSBmcm9tICcuLy4uLy4uL2hlbHBlcnMvY29sb3IuY2xhc3MnO1xyXG5pbXBvcnQgeyBDb2xvclBpY2tlckNvbnRyb2wgfSBmcm9tICcuLy4uLy4uL2hlbHBlcnMvY29udHJvbC5jbGFzcyc7XHJcbmltcG9ydCB7IGdldFZhbHVlQnlUeXBlIH0gZnJvbSAnLi8uLi8uLi9oZWxwZXJzL2hlbHBlci5mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6IGBzd2F0Y2hlcy1waWNrZXJgLFxyXG4gICAgdGVtcGxhdGVVcmw6IGAuL3N3YXRjaGVzLXBpY2tlci5jb21wb25lbnQuaHRtbGAsXHJcbiAgICBzdHlsZVVybHM6IFtcclxuICAgICAgICBgLi8uLi9wYXJ0cy9iYXNlLnN0eWxlLnNjc3NgLFxyXG4gICAgICAgIGAuL3N3YXRjaGVzLXBpY2tlci5jb21wb25lbnQuc2Nzc2BcclxuICAgIF0sXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxyXG59KVxyXG5leHBvcnQgY2xhc3MgU3dhdGNoZXNQaWNrZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcclxuXHJcbiAgICBASW5wdXQoKVxyXG4gICAgcHVibGljIGNvbG9yOiBzdHJpbmc7XHJcblxyXG4gICAgQE91dHB1dCgpXHJcbiAgICBwdWJsaWMgY29sb3JDaGFuZ2U6IEV2ZW50RW1pdHRlcjxDb2xvclN0cmluZz4gPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcclxuXHJcbiAgICBwdWJsaWMgY29udHJvbDogQ29sb3JQaWNrZXJDb250cm9sID0gbmV3IENvbG9yUGlja2VyQ29udHJvbCgpO1xyXG4gICAgcHVibGljIGNoaWxkQ29udHJvbDogQ29sb3JQaWNrZXJDb250cm9sID0gbmV3IENvbG9yUGlja2VyQ29udHJvbCgpO1xyXG4gICAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBBcnJheTxTdWJzY3JpcHRpb24+ID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBtYXBDb2xvcnMgPSB7XHJcbiAgICAgICAgJyNFNjMxNUInOiBbXHJcbiAgICAgICAgICAgICcjZmM4ZGE3JywgJyNmYTdkOWEnLCAnI2Y1NjQ4NCcsICcjZjA0YTcxJywgJyNlODJjNTgnLCAnI2UzMTc0NicsICcjZGUwMjM1JyxcclxuICAgICAgICAgICAgJyNkNjAyMzQnLCAnI2QxMDIzMicsICcjYzcwMjMwJywgJyNiODAyMmMnLCAnI2FiMDIyOScsICcjOWMwMjI1JywgJyM4ZjAxMjInLFxyXG4gICAgICAgICAgICAnIzhjMDEyMicsICcjODIwMTFmJywgJyM3ODAxMWInLCAnIzY5MDExNycsICcjNWMwMDEyJywgJyM0ZjAwMTAnLCAnIzQyMDAwYydcclxuICAgICAgICBdLFxyXG4gICAgICAgICcjNzkzMTgzJzogW1xyXG4gICAgICAgICAgICAnI2VmOGRmYycsICcjZWI3ZGZhJywgJyNlNjY0ZjUnLCAnI2RjNGFmMCcsICcjZDIyY2U4JywgJyNjYjE3ZTMnLCAnI2M0MDJkZScsXHJcbiAgICAgICAgICAgICcjYzAwMmQ5JywgJyNiYjAyZDQnLCAnI2IwMDJjNycsICcjYTIwMmI4JywgJyM5NzAyYWInLCAnIzhhMDI5YycsICcjN2UwMThmJyxcclxuICAgICAgICAgICAgJyM3YTAxOGEnLCAnIzczMDE4MicsICcjNmMwMTc4JywgJyM1ZTAxNjknLCAnIzU0MDE1YycsICcjNDkwMTRmJywgJyMzZDAxNDInXHJcbiAgICAgICAgXSxcclxuICAgICAgICAnIzAwOURFNyc6IFtcclxuICAgICAgICAgICAgJyM4ZGQ5ZmMnLCAnIzdkZDJmYScsICcjNjRjN2Y1JywgJyM0YWJiZjAnLCAnIzJjYWRlOCcsICcjMTdhMmUzJywgJyMwMjk4ZGUnLFxyXG4gICAgICAgICAgICAnIzAyOTVkOScsICcjMDI5MWQ0JywgJyMwMjg5YzcnLCAnIzAyN2ViOCcsICcjMDI3NWFiJywgJyMwMjZiOWMnLCAnIzAxNjI4ZicsXHJcbiAgICAgICAgICAgICcjMDE1ZjhhJywgJyMwMTU5ODInLCAnIzAxNTI3OCcsICcjMDE0ODY5JywgJyMwMTNmNWMnLCAnIzAxMzY0ZicsICcjMDEyZTQyJ1xyXG4gICAgICAgIF0sXHJcbiAgICAgICAgJyMwMEI1OUMnOiBbXHJcbiAgICAgICAgICAgICcjOGRmZWVhJywgJyM3ZGZiZTQnLCAnIzYzZjRkYicsICcjNGJlZmQyJywgJyMyZGU3YzYnLCAnIzE2ZTJiZScsICcjMDNkZWI3JyxcclxuICAgICAgICAgICAgJyMwMWRkYjYnLCAnIzAxZDRhZScsICcjMDFjN2E0JywgJyMwMWI4OTcnLCAnIzAxYWE4YicsICcjMDE5YjgwJywgJyMwMTkwNzYnLFxyXG4gICAgICAgICAgICAnIzAxOGM3MycsICcjMDE4MzZjJywgJyMwMTc3NjMnLCAnIzAxNjg1NycsICcjMDA1YzRlJywgJyMwMDUwNDQnLCAnIzAwNDIzOSdcclxuICAgICAgICBdLFxyXG4gICAgICAgICcjRkZDRTAwJzogW1xyXG4gICAgICAgICAgICAnI2ZjZTY4ZCcsICcjZmFlMTdkJywgJyNmNWRhNjQnLCAnI2YwY2Y0YScsICcjZThjMjJjJywgJyNlNWJjMTcnLCAnI2RlYjIwMicsXHJcbiAgICAgICAgICAgICcjZGViMTAwJywgJyNkNGFhMDInLCAnI2M3YTAwMicsICcjYjg5MzAyJywgJyNhYjg5MDInLCAnIzljN2QwMicsICcjOGY3MzAxJyxcclxuICAgICAgICAgICAgJyM4YzcwMDEnLCAnIzgyNjgwMScsICcjNzg2MjAxJywgJyM2OTU2MDEnLCAnIzVjNGIwMCcsICcjNGY0MTAwJywgJyM0MjM3MDAnXHJcbiAgICAgICAgXSxcclxuICAgICAgICAnI0ZGNEEyMSc6IFtcclxuICAgICAgICAgICAgJyNmY2EyOGQnLCAnI2ZhOTQ3ZCcsICcjZjU3ZjY0JywgJyNmMDY5NGEnLCAnI2U4NGYyYycsICcjZTMzYzE3JywgJyNkZTJhMDInLFxyXG4gICAgICAgICAgICAnI2Q5MmEwMicsICcjZDQyOTAyJywgJyNjNzI2MDInLCAnI2I4MjMwMicsICcjYWIyMTAyJywgJyM5YzFlMDInLCAnIzhmMWIwMScsXHJcbiAgICAgICAgICAgICcjOGExYTAxJywgJyM4MjE5MDEnLCAnIzc4MTcwMScsICcjNjkxMzAwJywgJyM1YzExMDAnLCAnIzRmMGUwMCcsICcjNDIwYzAwJ1xyXG4gICAgICAgIF0sXHJcbiAgICAgICAgJyNENkQ1RDYnOiBbXHJcbiAgICAgICAgICAgICcjZmZmJywgJyNmMmYyZjInLCAnI2U1ZTVlNScsICcjZDlkOWQ5JywgJyNjY2NjY2MnLCAnI2JmYmZiZicsICcjYjNiM2IzJyxcclxuICAgICAgICAgICAgJyNhNmE2YTYnLCAnIzk5OTk5OScsICcjOGM4YzhjJywgJyM4MDgwODAnLCAnIzczNzM3MycsICcjNjY2NjY2JywgJyM1OTU5NTknLFxyXG4gICAgICAgICAgICAnIzRkNGQ0ZCcsICcjNDI0MjQyJywgJyMzNjM2MzYnLCAnIzI2MjYyNicsICcjMWExYTFhJywgJyMwZjBmMGYnLCAnIzAwMCdcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZikge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jb2xvcikge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkQ29udHJvbC5zZXRWYWx1ZUZyb20odGhpcy5jb2xvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sLnNldFZhbHVlRnJvbSgnI0U2MzE1QicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogc2V0IGNvbG9yIHByZXNldHNcclxuICAgICAgICAgKiBkZWZpbmVkIGJ5IHN3YXRjaGVzIGNvbG9yIHBpY2tlciBjb21wb25lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNvbnRyb2wuc2V0Q29sb3JQcmVzZXRzKFtcclxuICAgICAgICAgICAgJyNlNjMxNWInLCAnIzc5MzE4MycsICcjMDA5ZGU3JywgJyMwMGI1OWMnLCAnI2ZmY2UwMCcsICcjZmY0YTIxJywgJyNkNmQ1ZDYnXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGluaXRpYWxseSBvcGVuIGZpcnN0IGdyb3VwXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jaGlsZENvbnRyb2wuc2V0Q29sb3JQcmVzZXRzKHRoaXMubWFwQ29sb3JzWycjRTYzMTVCJ10pO1xyXG5cclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcclxuICAgICAgICAgICAgdGhpcy5jaGlsZENvbnRyb2wudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JDaGFuZ2UuZW1pdChnZXRWYWx1ZUJ5VHlwZSh2YWx1ZSwgdGhpcy5jaGlsZENvbnRyb2wuaW5pdFR5cGUpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXNldHMgPSB0aGlzLm1hcENvbG9yc1t2YWx1ZS50b0hleFN0cmluZygpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzZXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZENvbnRyb2wuc2V0Q29sb3JQcmVzZXRzKHByZXNldHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvckNoYW5nZS5lbWl0KGdldFZhbHVlQnlUeXBlKHRoaXMuY2hpbGRDb250cm9sLnZhbHVlLCB0aGlzLmNoaWxkQ29udHJvbC5pbml0VHlwZSkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2RyLmRldGFjaCgpO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzdWJzY3JpcHRpb24pID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpKTtcclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yICYmIHRoaXMuY29udHJvbCAmJiBnZXRWYWx1ZUJ5VHlwZSh0aGlzLmNvbnRyb2wudmFsdWUsIHRoaXMuY29udHJvbC5pbml0VHlwZSkgIT09IHRoaXMuY29sb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZENvbnRyb2wuc2V0VmFsdWVGcm9tKHRoaXMuY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=